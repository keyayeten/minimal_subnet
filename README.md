# minimal_subnet

# Решение

"Минимальная подсеть для заданного набора IP-адресов" означает определение наименьшей подсети, которая содержит все заданные IP-адреса. Для этого можно использовать процесс подсчета подсети, который включает в себя следующие шаги:

Преобразование IP-адресов в двоичный формат:

192.168.1.2 -> 11000000.10101000.00000001.00000010

192.168.1.3 -> 11000000.10101000.00000001.00000011

192.168.1.5 -> 11000000.10101000.00000001.00000101

Определение общих битов для всех IP-адресов:

11000000.10101000.00000001.00000000

11000000.10101000.00000001.00000001

11000000.10101000.00000001.00000010

Выявление общего префикса:

11000000.10101000.00000001.00000
Определение подсети и маски подсети:

Подсеть: 192.168.1.0
Маска подсети: 255.255.255.248 (или /29 в CIDR нотации)
Таким образом, минимальная подсеть для заданных IP-адресов 192.168.1.2, 192.168.1.3 и 192.168.1.5 будет 192.168.1.0/29.


Чтобы найти минимальную охватывающую подсеть между набором IP-адресов состоит в том, чтобы попарно выполнить XNOR для всех IP-адресов, в то же время сохраняя общие биты с маской «1». В конце мы получаем количество общих битов, а затем извлекаем это число из набора одного образца IP и вот оно.
Такой подход даёт сложность O(n).

Аналогичный вариант и с ipv6.

# Запуск из консоли:

Перед запуском следует установить пакет в виртуальное окружение(но сначала надо создать пакет python setup.py sdist).

pip install <путь до пакета .tar.gz>

После установки запуск будет доступен командой minimal_subnet <ip_file> <ip_version

Где:

* <ip_file> - путь к файлу с ip адресами

* <ip_version> - версия ip

Пример:

minimal_subnet "C:\Users\Vladislav\Desktop\data.txt" "ipv6"